<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lecteur Vidéo Plein Écran – Stylisé</title>
  <link rel="stylesheet" href="/accueil/lecteur/lecteur.css" />
</head>
<body>

  <!-- SVG SYMBOLS POUR LES ICÔNES -->
  <svg style="display:none" xmlns="http://www.w3.org/2000/svg">
    <symbol id="icon-play" viewBox="0 0 16 16">
      <polygon points="3,2 13,8 3,14"/>
    </symbol>
    <symbol id="icon-pause" viewBox="0 0 16 16">
      <rect x="3" y="2" width="3" height="12"/>
      <rect x="10" y="2" width="3" height="12"/>
    </symbol>
    <symbol id="icon-fullscreen" viewBox="0 0 16 16">
      <path d="M1 1h5v2H3v3H1V1zm10 0h5v5h-2V3h-3V1zm5 10v5h-5v-2h3v-3h2zm-10 5H1v-5h2v3h3v2z"/>
    </symbol>
    <symbol id="icon-settings" viewBox="0 0 24 24">
      <path d="M19.14 12.94c.04-.31.06-.63.06-.94s-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.11-.61l-1.92-3.32a.5.5 0 0 0-.6-.22l-2.39.96a7.014 7.014 0 0 0-1.63-.94l-.36-2.54A.488.488 0 0 0 14 2h-4c-.25 0-.46.18-.49.42l-.36 2.54c-.6.24-1.15.55-1.63.94l-2.39-.96a.5.5 0 0 0-.6.22L2.61 8.87c-.12.2-.07.47.11.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58a.49.49 0 0 0-.11.61l1.92 3.32c.12.2.37.27.6.22l2.39-.96c.48.39 1.03.7 1.63.94l.36 2.54c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.36-2.54c.6-.24 1.15-.55 1.63-.94l2.39.96c.23.09.48-.02.6-.22l1.92-3.32a.5.5 0 0 0-.11-.61l-2.03-1.58zM12 15.6c-1.99 0-3.6-1.61-3.6-3.6s1.61-3.6 3.6-3.6 3.6 1.61 3.6 3.6-1.61 3.6-3.6 3.6z"/>
    </symbol>
  </svg>

  <div class="video-container">
    <!-- Bouton retour -->
    <button class="go-back" title="Retourner à la page précédente">
      <span class="go-back-icon">&lt;</span>
      <span class="go-back-text">Retourner sur l'affiche</span>
    </button>

    <!-- Élément vidéo -->
    <video id="video" preload="metadata" crossorigin="anonymous">
      Votre navigateur ne supporte pas HTML5 Video.
    </video>

    <!-- Overlay play -->
    <div class="pause-overlay">
      <svg class="pause-icon" viewBox="0 0 16 16">
        <use xlink:href="#icon-play"/>
      </svg>
    </div>

    <!-- ✅ Titre du film/série juste au-dessus des contrôles -->
    <div id="film-title" class="film-title"></div>

    <!-- Barre de progression -->
    <div class="progress-container" id="progressContainer">
      <div class="progress" id="progress"></div>
    </div>

    <!-- Barre de contrôles -->
    <div class="control-bar">
      <div class="left-controls">
        <button id="playPause" class="control-btn" title="Lecture/Pause">
          <svg class="icon"><use xlink:href="#icon-play"/></svg>
        </button>
        <div id="timeDisplay" class="time-display">00:00:00 / 00:00:00</div>
      </div>
      <div class="right-controls">
        <!-- Bouton paramètres -->
        <button id="settingsBtn" class="control-btn" title="Paramètres">
          <svg class="icon"><use xlink:href="#icon-settings"/></svg>
        </button>
        <!-- Menu paramètres (sous-titres) -->
        <div id="settingsMenu" class="settings-menu">
          <p class="settings-title">Paramètres :</p>
          <ul id="subtitleList"></ul>
        </div>
        <!-- Bouton lecteur (sera injecté en JS) -->
        <span id="lecteurBtnPlaceholder"></span>
        <div id="sourceMenu" class="settings-menu">
          <p class="settings-title">Source :</p>
          <ul id="sourceList"></ul>
        </div>
        <!-- Bouton plein écran -->
        <button id="fullscreenBtn" class="control-btn" title="Plein écran">
          <svg class="icon"><use xlink:href="#icon-fullscreen"/></svg>
        </button>
      </div>
    </div>
  </div>

  <div id="loading-popup">
    <div class="loading-box">
      <p>Chargement...</p>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
    </div>
  </div>

  <!-- Script principal du lecteur -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script src="/accueil/lecteur/lecteur.js" defer></script>
  <script src="/accueil/compte/verif-compte/verif-compte.js"></script>
  
</body>
</html>
